# 1. 副本机制

在前面章节中，我们创建的Pod都是未经托管的，而是选择集群中的一个节点来运行Pod，然后在节点上运行容器，但是这样的话，当节点崩溃或者是网络断开，Pod不会自动被重新创建，对应的就是Pod丢失，另一个问题就是如果直接管理散乱分布在集群中的Pod十分复杂，其中包括如何保证集群内可用Pod的数量，如何为所有Pod更新镜像，更新镜像过程中，如何保证服务的可用性，如果实现快速回滚等等。

为了解决上面提到的问题，在K8s中，通常不会直接创建Pod，而是针对不同的场景通过创建不同的副本控制器来部署和发布Pod，本章节就对常见的副本控制器进行阐述。


# 2. ReplicationController


# 3. ReplicaSet


# 4. Deployment


# 5. DaemonSet


# 6. Job


# 7.CronJob


# 8. StatefulSet


# 9. 总结

Pod是Kubernetes中最小的调度单元，我们可以通过kubectl直接创建一个Pod，但是Pod本身并不能自愈（self-healing）。如果一个Pod所在的Node出现故障，Pod将被删除；同理，当因为节点资源不够或节点维护而驱逐Pod时，Pod也将被删除。

Kubernetes通过引入副本控制器的概念来管理Pod实例。在Kubernetes中，我们应该始终通过创建Controller来创建Pod，而不是直接创建Pod。控制器可以提供如下特性：

* 水平扩展（运行Pod的多个副本）
* 版本更新
* 故障恢复，如：当一个节点出现故障，控制器可以自动在另一个节点调度一个配置完全一样的Pod，以替换故障节点上的Pod


